import{r as k,j as a,u as ee,a as te,L as W}from"./index-B3FnLeke.js";import{u as re}from"./CalendarToday-ISSuikFn.js";import{E as ne}from"./EventDetailsPanel-w8CvGBIe.js";import{E as F,F as ie,c as se,d as ae,g as oe,G as le,s as ce,u as ue,B as fe}from"./Box-3BftpqJ1.js";import{w as de,l as me,P as pe,T as C,B as O}from"./TextField-4pUqED5z.js";import{c as ge,s as xe,M as y}from"./MenuItem--I1LYlMW.js";import{A as he}from"./Alert-BJUnO7bX.js";function Se({props:e,name:t,defaultTheme:r,themeId:i}){let n=F(r);return i&&(n=n[i]||n),ge({theme:n,name:t,props:e})}const ye=(e,t)=>e.filter(r=>t.includes(r)),$=(e,t,r)=>{const i=e.keys[0];Array.isArray(t)?t.forEach((n,s)=>{r((l,p)=>{s<=e.keys.length-1&&(s===0?Object.assign(l,p):l[e.up(e.keys[s])]=p)},n)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:ye(e.keys,Object.keys(t))).forEach(s=>{if(e.keys.includes(s)){const l=t[s];l!==void 0&&r((p,h)=>{i===s?Object.assign(p,h):p[e.up(s)]=h},l)}}):(typeof t=="number"||typeof t=="string")&&r((n,s)=>{Object.assign(n,s)},t)};function z(e){return`--Grid-${e}Spacing`}function T(e){return`--Grid-parent-${e}Spacing`}const L="--Grid-columns",G="--Grid-parent-columns",je=({theme:e,ownerState:t})=>{const r={};return $(e.breakpoints,t.size,(i,n)=>{let s={};n==="grow"&&(s={flexBasis:0,flexGrow:1,maxWidth:"100%"}),n==="auto"&&(s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof n=="number"&&(s={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${n} / var(${G}) - (var(${G}) - ${n}) * (var(${T("column")}) / var(${G})))`}),i(r,s)}),r},be=({theme:e,ownerState:t})=>{const r={};return $(e.breakpoints,t.offset,(i,n)=>{let s={};n==="auto"&&(s={marginLeft:"auto"}),typeof n=="number"&&(s={marginLeft:n===0?"0px":`calc(100% * ${n} / var(${G}) + var(${T("column")}) * ${n} / var(${G}))`}),i(r,s)}),r},ve=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={[L]:12};return $(e.breakpoints,t.columns,(i,n)=>{const s=n??12;i(r,{[L]:s,"> *":{[G]:s}})}),r},Ce=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={};return $(e.breakpoints,t.rowSpacing,(i,n)=>{var l;const s=typeof n=="string"?n:(l=e.spacing)==null?void 0:l.call(e,n);i(r,{[z("row")]:s,"> *":{[T("row")]:s}})}),r},Ge=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={};return $(e.breakpoints,t.columnSpacing,(i,n)=>{var l;const s=typeof n=="string"?n:(l=e.spacing)==null?void 0:l.call(e,n);i(r,{[z("column")]:s,"> *":{[T("column")]:s}})}),r},$e=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={};return $(e.breakpoints,t.direction,(i,n)=>{i(r,{flexDirection:n})}),r},we=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},gap:`var(${z("row")}) var(${z("column")})`}}),Pe=e=>{const t=[];return Object.entries(e).forEach(([r,i])=>{i!==!1&&i!==void 0&&t.push(`grid-${r}-${String(i)}`)}),t},ke=(e,t="xs")=>{function r(i){return i===void 0?!1:typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"&&i>0}if(r(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const i=[];return Object.entries(e).forEach(([n,s])=>{r(s)&&i.push(`spacing-${n}-${String(s)}`)}),i}return[]},ze=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,r])=>`direction-${t}-${r}`):[`direction-xs-${String(e)}`];function Te(e,t){e.item!==void 0&&delete e.item,e.zeroMinWidth!==void 0&&delete e.zeroMinWidth,t.keys.forEach(r=>{e[r]!==void 0&&delete e[r]})}const Ee=le(),Me=xe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function Ne(e){return Se({props:e,name:"MuiGrid",defaultTheme:Ee})}function Ae(e={}){const{createStyledComponent:t=Me,useThemeProps:r=Ne,useTheme:i=F,componentName:n="MuiGrid"}=e,s=(m,c)=>{const{container:g,direction:f,spacing:d,wrap:u,size:b}=m,w={root:["root",g&&"container",u!=="wrap"&&`wrap-xs-${String(u)}`,...ze(f),...Pe(b),...g?ke(d,c.breakpoints.keys[0]):[]]};return ae(w,j=>oe(n,j),{})};function l(m,c,g=()=>!0){const f={};return m===null||(Array.isArray(m)?m.forEach((d,u)=>{d!==null&&g(d)&&c.keys[u]&&(f[c.keys[u]]=d)}):typeof m=="object"?Object.keys(m).forEach(d=>{const u=m[d];u!=null&&g(u)&&(f[d]=u)}):f[c.keys[0]]=m),f}const p=t(ve,Ge,Ce,je,$e,we,be),h=k.forwardRef(function(c,g){const f=i(),d=r(c),u=ie(d);Te(u,f.breakpoints);const{className:b,children:w,columns:j=12,container:P=!1,component:E="div",direction:M="row",wrap:o="wrap",size:V={},offset:I={},spacing:N=0,rowSpacing:q=N,columnSpacing:K=N,unstable_level:v=0,..._}=u,H=l(V,f.breakpoints,S=>S!==!1),U=l(I,f.breakpoints),J=c.columns??(v?void 0:j),Q=c.spacing??(v?void 0:N),X=c.rowSpacing??c.spacing??(v?void 0:q),Y=c.columnSpacing??c.spacing??(v?void 0:K),A={...u,level:v,columns:J,container:P,direction:M,wrap:o,spacing:Q,rowSpacing:X,columnSpacing:Y,size:H,offset:U},Z=s(A,f);return a.jsx(p,{ref:g,as:E,ownerState:A,className:se(Z.root,b),..._,children:k.Children.map(w,S=>{var R;return k.isValidElement(S)&&de(S,["Grid"])&&P&&S.props.container?k.cloneElement(S,{unstable_level:((R=S.props)==null?void 0:R.unstable_level)??v+1}):S})})});return h.muiName="Grid",h}const x=Ae({createStyledComponent:ce("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>ue({props:e,name:"MuiGrid"}),useTheme:me});function B(){const e=[];for(let t=0;t<24;t++)for(let r of[0,30]){const i=t.toString().padStart(2,"0"),n=r.toString().padStart(2,"0");e.push(`${i}:${n}:00`)}return e}function D(e){return e.slice(0,5)}function Ve(){const{submitWorkLog:e,isLoading:t,error:r}=ee(),{date:i,worksite:n,setWorksite:s,task:l,setTask:p,startTime:h,setStartTime:m,endTime:c,setEndTime:g,totalHours:f,km:d,setKm:u,notes:b,setNotes:w,editingRow:j,cancelEditing:P}=re(),E=te();function M(o){o.preventDefault(),e({date:i,worksite:n,task:l,startTime:h,endTime:c,totalHours:f,km:d,notes:b,editingRow:j}),E(`/area-personale/scheda-lavoro?data=${i}`),P()}return a.jsxs(a.Fragment,{children:[a.jsx(fe,{sx:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"#0000009a",alignContent:"center"},component:W,to:"/area-personale"}),a.jsxs(pe,{sx:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)",p:4,maxWidth:700,mx:"auto",mt:4},children:[a.jsx(ne,{}),a.jsx("form",{onSubmit:M,children:a.jsxs(x,{container:!0,spacing:2,children:[a.jsx(x,{item:!0,xs:12,children:a.jsxs(C,{fullWidth:!0,select:!0,label:"Cantiere",value:n,onChange:o=>s(o.target.value),required:!0,children:[a.jsx(y,{value:"",children:"Seleziona Cantiere"}),["Rivazzurra","San Giuliano","Viserba","Torre Pedrera","Miramare Naturale","Spadarolo","Miramare Sintetico","Ina Casa","Viserbella","San Vito","Rivabella","Palazzetto","Stadio","Varie + Gestione","Altri Impianti + Extra","Servizi a Pagamento","Sede Coop134"].map(o=>a.jsx(y,{value:o,children:o},o))]})}),a.jsx(x,{item:!0,xs:12,children:a.jsxs(C,{fullWidth:!0,select:!0,label:"Lavoro",value:l,onChange:o=>p(o.target.value),required:!0,children:[a.jsx(y,{value:"",children:"Seleziona Lavoro"}),["Custodia","Pulizia Spogliatoi","Custodia Partita","Pulizia Altro","Innaffiatura","Rigatura","Rigatura Extra","Sfalcio CP","Sfalcio CP+CS","Sfalcio CS","Sfalcio AE","Sfalcio Generale","Sabbia","Rullatura","Giri Vari","Lavoro PC","Altre Manutenzioni","Sanificazione","Miglioria","Lavoro a Preventivo:","Corso","Visita Medica","Riunione"].map(o=>a.jsx(y,{value:o,children:o},o))]})}),a.jsx(x,{item:!0,xs:6,children:a.jsxs(C,{fullWidth:!0,select:!0,label:"Orario Inizio",value:h,onChange:o=>m(o.target.value),required:!0,children:[a.jsx(y,{value:"",children:"Seleziona Inizio"}),B().map(o=>a.jsx(y,{value:o,children:D(o)},o))]})}),a.jsx(x,{item:!0,xs:6,children:a.jsxs(C,{fullWidth:!0,select:!0,label:"Orario Fine",value:c,onChange:o=>g(o.target.value),required:!0,children:[a.jsx(y,{value:"",children:"Seleziona Fine"}),B().map(o=>a.jsx(y,{value:o,children:D(o)},o))]})}),a.jsx(x,{item:!0,xs:12,children:a.jsx(C,{fullWidth:!0,type:"number",label:"KM",value:d,onChange:o=>u(o.target.value)})}),a.jsx(x,{item:!0,xs:12,children:a.jsx(C,{fullWidth:!0,label:"Note e Specifiche",value:b,onChange:o=>w(o.target.value)})}),r&&a.jsx(x,{item:!0,xs:12,children:a.jsx(he,{severity:"error",children:r})}),a.jsxs(x,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",gap:2,children:[j&&a.jsx(O,{component:W,to:"/area-personale",variant:"outlined",color:"error",children:"Annulla"}),a.jsx(O,{type:"submit",variant:"contained",disabled:t,color:"error",children:j?"Salva modifiche":"Aggiungi"})]})]})})]})]})}export{Ve as default};
